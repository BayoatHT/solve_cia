######################################################################################################################
#   CORE IMPORTS
# ---------------------------------------------------------------------------------------------------------------------
import os
import re
import json
import logging
# ---------------------------------------------------------------------------------------------------------------------
from proj_004_cia.c_00_transform_utils.extract_and_parse import extract_and_parse
# ---------------------------------------------------------------------------------------------------------------------
from proj_004_cia.c_12_terrorism.helper.utils.parse_terrorism import parse_terrorism
# //////////////////////////////////////////////////////////////////////////////////////////////////


def get_terrorism(data=None, info=None, iso3Code=None):

    # 0
    # //////////////////////////////////////////////////////////////////////////////////////////////////
    # NOTE: Terrorism DATA
    # --------------------------------------------------------------------------------------------------
    terror_data = data.get("Terrorism", {})
    # //////////////////////////////////////////////////////////////////////////////////////////////////

    # 1
    # //////////////////////////////////////////////////////////////////////////////////////////////////
    # NOTE: 1 >>> 'Terrorist group(s)'
    # --------------------------------------------------------------------------------------------------

    # //////////////////////////////////////////////////////////////////////////////////////////////////
    if info == 'terrorism':
        return extract_and_parse(
            main_data=terror_data,
            key_path="Terrorist group(s)",
            parser_function=parse_terrorism,
            iso3Code=iso3Code,
            parser_name="parse_terrorism"
        )


######################################################################################################################
#   TEST FUNCTION
######################################################################################################################
if __name__ == '__main__':
    from pprint import pprint
    from proj_004_cia.a_04_iso_to_cia_code.iso3Code_to_cia_code import load_country_data
    # --------------------------------------------------------------------------------------------------
    info = 'pass'  # Change this to test specific fields
    iso3Code = 'USA'  # Change to any ISO3 code: 'USA', 'FRA', 'WLD', 'DEU', etc.
    # --------------------------------------------------------------------------------------------------
    data = load_country_data(iso3Code)
    # --------------------------------------------------------------------------------------------------
    pprint(get_terrorism(data=data, info=info, iso3Code=iso3Code))
