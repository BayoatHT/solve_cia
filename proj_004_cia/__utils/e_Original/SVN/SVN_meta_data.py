# ────────────────────────────────────────────────────────────────────────────────────────────
# Enhanced Country Meta Data - SVN
# ────────────────────────────────────────────────────────────────────────────────────────────
# Auto-generated by: b_download_single_enhanced_country_meta.py
# Generated on: 2025-08-08 18:20:32
# Country: SVN
# Topics updated: 0/0
# ────────────────────────────────────────────────────────────────────────────────────────────

# GENERATION METADATA
# ────────────────────────────────────────────────────────────────────────────────────────────
generation_metadata = {
    "generated_at": "2025-08-08 18:20:32",
    "country_code": "SVN",
    "topics_updated": 0,
    "topics_requested": 0,
    "topic_update_mode": "all",
    "enhanced_data_included": True,
    "generator_script": "b_download_single_enhanced_country_meta.py",
    "data_source": "Impact Titan Enhanced Country Meta System"
}

# ENHANCED COUNTRY META DATA FOR SVN
# ────────────────────────────────────────────────────────────────────────────────────────────
# This dictionary contains comprehensive enhanced metadata for SVN.
# Includes base country information plus recent indicator data for all topics.
# 
# Usage:
#   from impact_titan.impact_3_data.h_saved_world_system.countries.a_impact_country_meta.Original.SVN.SVN_meta_data import SVN_meta_data
#   
#   country_name = SVN_meta_data['name']
#   gdp_data = SVN_meta_data.get('wb_gdp_capita', {})
#   population = SVN_meta_data.get('wb_total_pop', {})
# ────────────────────────────────────────────────────────────────────────────────────────────

SVN_meta_data = {
    "iso3Code": "SVN",
    "iso2Code": "SI",
    "name": "Slovenia",
    "region": "Europe & Central Asia",
    "adminregion": "",
    "incomeLevel": "High income",
    "lendingType": "Not classified",
    "capitalCity": "Ljubljana",
    "longitude": 14.5044,
    "latitude": 46.0546,
    "countryName": "Slovenia",
    "officialStateName": "The Republic of Slovenia",
    "sovereignty": "UN member state",
    "alpha2Code": "SI",
    "alpha3Code": "SVN",
    "numericCode": "705",
    "subdivisionCode": "ISO 3166-2:SI",
    "ccTLD": ".si",
    "internetCode": ".si",
    "population": 2108732,
    "surfaceArea": 20480,
    "landArea": 20136.4,
    "neighbors": [
        "AUT",
        "ITA",
        "HRV",
        "HUN"
    ],
    "SVN": {
        "currencyName": "Euro",
        "currencySymbol": "€",
        "currencyCode": "EUR"
    },
    "officialLanguages": [
        "Slovene"
    ],
    "gdp": 62117768014.8563,
    "gdpPerCapita": 29457.40284439,
    "gdpPpp": 105503354408.306,
    "gdpPppPerCapita": 50031.6561840507,
    "ciCountryName": "slovenia",
    "ciIso2Code": "SI",
    "callingCodes": [
        "386"
    ],
    "ciCurrencies": [
        "EUR"
    ],
    "ciLanguages": [
        "sl"
    ],
    "timezones": [
        "UTC+01:00"
    ],
    "tld": [
        ".si"
    ],
    "ciLatlng": [
        46.11666666,
        14.81666666
    ],
    "ciLatitude": 46.11666666,
    "ciLongitude": 14.81666666,
    "ciCapital": "Ljubljana",
    "capitalLatitude": 46.04998,
    "capitalLongitude": 14.50686,
    "ciBorders": [
        "AUT",
        "HRV",
        "ITA",
        "HUN"
    ],
    "provinces": [
        "Ajdovscina",
        "Beltinci",
        "Bled",
        "Bohinj",
        "Borovnica",
        "Bovec",
        "Brda",
        "Brezice",
        "Brezovica",
        "Cankova-Tisina",
        "Celje",
        "Cerklje na Gorenjskem",
        "Cerknica",
        "Cerkno",
        "Crensovci",
        "Crna na Koroskem",
        "Crnomelj",
        "Destrnik-Trnovska Vas",
        "Divaca",
        "Dobrepolje",
        "Dobrova-Horjul-Polhov Gradec",
        "Dol pri Ljubljani",
        "Domzale",
        "Dornava",
        "Dravograd",
        "Duplek",
        "Gorenja Vas-Poljane",
        "Gorisnica",
        "Gornja Radgona",
        "Gornji Grad",
        "Gornji Petrovci",
        "Grosuplje",
        "Hodos Salovci",
        "Hrastnik",
        "Hrpelje-Kozina",
        "Idrija",
        "Ig",
        "Ilirska Bistrica",
        "Ivancna Gorica",
        "Izola",
        "Jesenice",
        "Jursinci",
        "Kamnik",
        "Kanal",
        "Kidricevo",
        "Kobarid",
        "Kobilje",
        "Kocevje",
        "Komen",
        "Koper",
        "Kozje",
        "Kranj",
        "Kranjska Gora",
        "Krsko",
        "Kungota",
        "Kuzma",
        "Lasko",
        "Lenart",
        "Lendava",
        "Litija",
        "Ljubljana",
        "Ljubno",
        "Ljutomer",
        "Logatec",
        "Loska Dolina",
        "Loski Potok",
        "Luce",
        "Lukovica",
        "Majsperk",
        "Maribor",
        "Medvode",
        "Menges",
        "Metlika",
        "Mezica",
        "Miren-Kostanjevica",
        "Mislinja",
        "Moravce",
        "Moravske Toplice",
        "Mozirje",
        "Murska Sobota",
        "Muta",
        "Naklo",
        "Nazarje",
        "Nova Gorica",
        "Novo Mesto",
        "Odranci",
        "Ormoz",
        "Osilnica",
        "Pesnica",
        "Piran",
        "Pivka",
        "Podcetrtek",
        "Podvelka-Ribnica",
        "Postojna",
        "Preddvor",
        "Ptuj",
        "Puconci",
        "Race-Fram",
        "Radece",
        "Radenci",
        "Radlje ob Dravi",
        "Radovljica",
        "Ravne-Prevalje",
        "Ribnica",
        "Rogasevci",
        "Rogaska Slatina",
        "Rogatec",
        "Ruse",
        "Semic",
        "Sencur",
        "Sentilj",
        "Sentjernej",
        "Sentjur pri Celju",
        "Sevnica",
        "Sezana",
        "Skocjan",
        "Skofja Loka",
        "Skofljica",
        "Slovenj Gradec",
        "Slovenska Bistrica",
        "Slovenske Konjice",
        "Smarje pri Jelsah",
        "Smartno ob Paki",
        "Sostanj",
        "Starse",
        "Store",
        "Sveti Jurij",
        "Tolmin",
        "Trbovlje",
        "Trebnje",
        "Trzic",
        "Turnisce",
        "Velenje",
        "Velike Lasce",
        "Videm",
        "Vipava",
        "Vitanje",
        "Vodice",
        "Vojnik",
        "Vrhnika",
        "Vuzenica",
        "Zagorje ob Savi",
        "Zalec",
        "Zavrc",
        "Zelezniki",
        "Ziri",
        "Zrece"
    ],
    "demonym": "Slovene",
    "ciRegion": "Europe",
    "subregion": "Southern Europe",
    "currencies": [],
    "currencyCode": "",
    "currencyName": "",
    "currencySymbol": "",
    "_retrieval_metadata": {
        "default_values_applied": 5,
        "fields_already_populated": 39,
        "extracted_fields_total": 44,
        "data_completeness_percentage": 88.64,
        "comprehensive_defaults_available": 424,
        "note": "Only applying defaults to fields with explicit extraction logic",
        "country_code": "SVN",
        "sources_attempted": 13,
        "sources_merged": 12,
        "failed_sources": [],
        "enhanced_data_included": True,
        "defaults_applied": True,
        "retrieval_timestamp": "2025-08-08T18:20:32.743250",
        "topic_update_mode": "all",
        "topics_requested": 0,
        "topics_updated": 0,
        "topics_failed": 0,
        "failed_topics": [],
        "skip_failed_topics": True,
        "is_country": True,
        "is_region": False,
        "enhancement_timestamp": "2025-08-08T18:20:32.747251"
    }
}

# ────────────────────────────────────────────────────────────────────────────────────────────
# HELPER FUNCTIONS
# ────────────────────────────────────────────────────────────────────────────────────────────

def get_country_code():
    """Get the ISO3 country code for this data."""
    return "SVN"

def get_country_name():
    """Get the country name."""
    return SVN_meta_data.get('name', 'Unknown')

def get_generation_info():
    """Get information about when and how this data was generated."""
    return generation_metadata

def get_topic_data(topic_key):
    """Get data for a specific topic/indicator."""
    return SVN_meta_data.get(topic_key, {})

def get_all_topics():
    """Get a list of all available topic keys in this dataset."""
    return [key for key in SVN_meta_data.keys() if key.startswith(('wb_', 'custom_', 'country_', 'region_'))]

def get_recent_change(topic_key):
    """Get recent change information for a specific topic."""
    topic_data = get_topic_data(topic_key)
    if 'changeRate' in topic_data and 'rateDirection' in topic_data:
        return {
            'change_rate': topic_data['changeRate'],
            'direction': topic_data['rateDirection'],
            'absolute_change': topic_data.get('abs_change', 0),
            'current_value': topic_data.get('firstData', 0),
            'previous_value': topic_data.get('secondData', 0),
            'current_date': topic_data.get('firstDate', ''),
            'previous_date': topic_data.get('secondDate', '')
        }
    return None

def validate_data_completeness():
    """Validate the completeness of this country's data."""
    total_fields = len(SVN_meta_data)
    topics = get_all_topics()
    retrieval_meta = SVN_meta_data.get('_retrieval_metadata', {})
    
    return {
        'total_fields': total_fields,
        'total_topics': len(topics),
        'topics_updated': retrieval_meta.get('topics_updated', 0),
        'topics_requested': retrieval_meta.get('topics_requested', 0),
        'completeness_ratio': retrieval_meta.get('topics_updated', 0) / max(retrieval_meta.get('topics_requested', 1), 1)
    }

# ────────────────────────────────────────────────────────────────────────────────────────────
# VALIDATION AND TESTING
# ────────────────────────────────────────────────────────────────────────────────────────────

if __name__ == '__main__':
    print("═" * 80)
    print(f"ENHANCED COUNTRY META DATA - SVN - VALIDATION")
    print("═" * 80)
    
    print(f"Country: {get_country_name()} ({get_country_code()})")
    print(f"Generation info: {get_generation_info()}")
    
    # Test topic functionality
    topics = get_all_topics()
    print(f"Available topics: {len(topics)}")
    
    # Show sample topics with recent changes
    sample_topics = topics[:5] if topics else []
    print(f"Sample topics with recent changes:")
    for topic in sample_topics:
        change_info = get_recent_change(topic)
        if change_info:
            print(f"  {topic}: {change_info['change_rate']:.2%} ({change_info['direction']})")
        else:
            print(f"  {topic}: No change data available")
    
    # Validate data completeness
    completeness = validate_data_completeness()
    print(f"\nData completeness: {completeness['completeness_ratio']:.2%}")
    print(f"Topics updated: {completeness['topics_updated']}/{completeness['topics_requested']}")
    
    print("\n✅ Enhanced country data validation completed!")
