# ────────────────────────────────────────────────────────────────────────────────────────────
# Enhanced Country Meta Data - AZE
# ────────────────────────────────────────────────────────────────────────────────────────────
# Auto-generated by: b_download_single_enhanced_country_meta.py
# Generated on: 2025-08-08 18:20:28
# Country: AZE
# Topics updated: 0/0
# ────────────────────────────────────────────────────────────────────────────────────────────

# GENERATION METADATA
# ────────────────────────────────────────────────────────────────────────────────────────────
generation_metadata = {
    "generated_at": "2025-08-08 18:20:28",
    "country_code": "AZE",
    "topics_updated": 0,
    "topics_requested": 0,
    "topic_update_mode": "all",
    "enhanced_data_included": True,
    "generator_script": "b_download_single_enhanced_country_meta.py",
    "data_source": "Impact Titan Enhanced Country Meta System"
}

# ENHANCED COUNTRY META DATA FOR AZE
# ────────────────────────────────────────────────────────────────────────────────────────────
# This dictionary contains comprehensive enhanced metadata for AZE.
# Includes base country information plus recent indicator data for all topics.
# 
# Usage:
#   from impact_titan.impact_3_data.h_saved_world_system.countries.a_impact_country_meta.Original.AZE.AZE_meta_data import AZE_meta_data
#   
#   country_name = AZE_meta_data['name']
#   gdp_data = AZE_meta_data.get('wb_gdp_capita', {})
#   population = AZE_meta_data.get('wb_total_pop', {})
# ────────────────────────────────────────────────────────────────────────────────────────────

AZE_meta_data = {
    "iso3Code": "AZE",
    "iso2Code": "AZ",
    "name": "Azerbaijan",
    "region": "Europe & Central Asia",
    "adminregion": "Europe & Central Asia (excluding high income)",
    "incomeLevel": "Upper middle income",
    "lendingType": "IBRD",
    "capitalCity": "Baku",
    "longitude": 49.8932,
    "latitude": 40.3834,
    "countryName": "Azerbaijan",
    "officialStateName": "The Republic of Azerbaijan",
    "sovereignty": "UN member state",
    "alpha2Code": "AZ",
    "alpha3Code": "AZE",
    "numericCode": "31",
    "subdivisionCode": "ISO 3166-2:AZ",
    "ccTLD": ".az",
    "internetCode": ".az",
    "population": 10175016,
    "surfaceArea": 86600,
    "landArea": 82650,
    "neighbors": [
        "RUS",
        "GEO",
        "ARM",
        "IRN",
        "TUR"
    ],
    "AZE": {
        "currencyCode": "AZN",
        "currencyName": "Azerbaijani manat",
        "currencySymbol": "₼"
    },
    "officialLanguages": [
        "Azerbaijani"
    ],
    "gdp": 78721058823.5294,
    "gdpPerCapita": 7736.70123206975,
    "gdpPpp": 180753518094.564,
    "gdpPppPerCapita": 17764.4455885439,
    "ciCountryName": "azerbaijan",
    "ciIso2Code": "AZ",
    "callingCodes": [
        "994"
    ],
    "ciCurrencies": [
        "AZN"
    ],
    "ciLanguages": [
        "az",
        "hy"
    ],
    "timezones": [
        "UTC+04:00"
    ],
    "tld": [
        ".az"
    ],
    "ciLatlng": [
        40.5,
        47.5
    ],
    "ciLatitude": 40.5,
    "ciLongitude": 47.5,
    "ciCapital": "Baku",
    "capitalLatitude": 40.375443,
    "capitalLongitude": 49.832675,
    "ciBorders": [
        "ARM",
        "GEO",
        "IRN",
        "RUS",
        "TUR"
    ],
    "provinces": [
        "Abseron Rayonu",
        "Agcabadi Rayonu",
        "Agdam Rayonu",
        "Agdas Rayonu",
        "Agstafa Rayonu",
        "Agsu Rayonu",
        "Ali Bayramli Sahari",
        "Astara Rayonu",
        "Baki Sahari",
        "Balakan Rayonu",
        "Barda Rayonu",
        "Beylaqan Rayonu",
        "Bilasuvar Rayonu",
        "Cabrayil Rayonu",
        "Calilabad Rayonu",
        "Daskasan Rayonu",
        "Davaci Rayonu",
        "Fuzuli Rayonu",
        "Gadabay Rayonu",
        "Ganca Sahari",
        "Goranboy Rayonu",
        "Goycay Rayonu",
        "Haciqabul Rayonu",
        "Imisli Rayonu",
        "Ismayilli Rayonu",
        "Kalbacar Rayonu",
        "Kurdamir Rayonu",
        "Lacin Rayonu",
        "Lankaran Rayonu",
        "Lankaran Sahari",
        "Lerik Rayonu",
        "Masalli Rayonu",
        "Mingacevir Sahari",
        "Naftalan Sahari",
        "Naxcivan Muxtar Respublikasi",
        "Neftcala Rayonu",
        "Oguz Rayonu",
        "Qabala Rayonu",
        "Qax Rayonu",
        "Qazax Rayonu",
        "Qobustan Rayonu",
        "Quba Rayonu",
        "Qubadli Rayonu",
        "Qusar Rayonu",
        "Saatli Rayonu",
        "Sabirabad Rayonu",
        "Saki Rayonu",
        "Saki Sahari",
        "Salyan Rayonu",
        "Samaxi Rayonu",
        "Samkir Rayonu",
        "Samux Rayonu",
        "Siyazan Rayonu",
        "Sumqayit Sahari",
        "Susa Rayonu",
        "Susa Sahari",
        "Tartar Rayonu",
        "Tovuz Rayonu",
        "Ucar Rayonu",
        "Xacmaz Rayonu",
        "Xankandi Sahari",
        "Xanlar Rayonu",
        "Xizi Rayonu",
        "Xocali Rayonu",
        "Xocavand Rayonu",
        "Yardimli Rayonu",
        "Yevlax Rayonu",
        "Yevlax Sahari",
        "Zangilan Rayonu",
        "Zaqatala Rayonu",
        "Zardab Rayonu"
    ],
    "demonym": "Azerbaijani",
    "ciRegion": "Asia",
    "subregion": "Western Asia",
    "currencies": [],
    "currencyCode": "",
    "currencyName": "",
    "currencySymbol": "",
    "_retrieval_metadata": {
        "default_values_applied": 5,
        "fields_already_populated": 39,
        "extracted_fields_total": 44,
        "data_completeness_percentage": 88.64,
        "comprehensive_defaults_available": 424,
        "note": "Only applying defaults to fields with explicit extraction logic",
        "country_code": "AZE",
        "sources_attempted": 13,
        "sources_merged": 12,
        "failed_sources": [],
        "enhanced_data_included": True,
        "defaults_applied": True,
        "retrieval_timestamp": "2025-08-08T18:20:28.097655",
        "topic_update_mode": "all",
        "topics_requested": 0,
        "topics_updated": 0,
        "topics_failed": 0,
        "failed_topics": [],
        "skip_failed_topics": True,
        "is_country": True,
        "is_region": False,
        "enhancement_timestamp": "2025-08-08T18:20:28.101654"
    }
}

# ────────────────────────────────────────────────────────────────────────────────────────────
# HELPER FUNCTIONS
# ────────────────────────────────────────────────────────────────────────────────────────────

def get_country_code():
    """Get the ISO3 country code for this data."""
    return "AZE"

def get_country_name():
    """Get the country name."""
    return AZE_meta_data.get('name', 'Unknown')

def get_generation_info():
    """Get information about when and how this data was generated."""
    return generation_metadata

def get_topic_data(topic_key):
    """Get data for a specific topic/indicator."""
    return AZE_meta_data.get(topic_key, {})

def get_all_topics():
    """Get a list of all available topic keys in this dataset."""
    return [key for key in AZE_meta_data.keys() if key.startswith(('wb_', 'custom_', 'country_', 'region_'))]

def get_recent_change(topic_key):
    """Get recent change information for a specific topic."""
    topic_data = get_topic_data(topic_key)
    if 'changeRate' in topic_data and 'rateDirection' in topic_data:
        return {
            'change_rate': topic_data['changeRate'],
            'direction': topic_data['rateDirection'],
            'absolute_change': topic_data.get('abs_change', 0),
            'current_value': topic_data.get('firstData', 0),
            'previous_value': topic_data.get('secondData', 0),
            'current_date': topic_data.get('firstDate', ''),
            'previous_date': topic_data.get('secondDate', '')
        }
    return None

def validate_data_completeness():
    """Validate the completeness of this country's data."""
    total_fields = len(AZE_meta_data)
    topics = get_all_topics()
    retrieval_meta = AZE_meta_data.get('_retrieval_metadata', {})
    
    return {
        'total_fields': total_fields,
        'total_topics': len(topics),
        'topics_updated': retrieval_meta.get('topics_updated', 0),
        'topics_requested': retrieval_meta.get('topics_requested', 0),
        'completeness_ratio': retrieval_meta.get('topics_updated', 0) / max(retrieval_meta.get('topics_requested', 1), 1)
    }

# ────────────────────────────────────────────────────────────────────────────────────────────
# VALIDATION AND TESTING
# ────────────────────────────────────────────────────────────────────────────────────────────

if __name__ == '__main__':
    print("═" * 80)
    print(f"ENHANCED COUNTRY META DATA - AZE - VALIDATION")
    print("═" * 80)
    
    print(f"Country: {get_country_name()} ({get_country_code()})")
    print(f"Generation info: {get_generation_info()}")
    
    # Test topic functionality
    topics = get_all_topics()
    print(f"Available topics: {len(topics)}")
    
    # Show sample topics with recent changes
    sample_topics = topics[:5] if topics else []
    print(f"Sample topics with recent changes:")
    for topic in sample_topics:
        change_info = get_recent_change(topic)
        if change_info:
            print(f"  {topic}: {change_info['change_rate']:.2%} ({change_info['direction']})")
        else:
            print(f"  {topic}: No change data available")
    
    # Validate data completeness
    completeness = validate_data_completeness()
    print(f"\nData completeness: {completeness['completeness_ratio']:.2%}")
    print(f"Topics updated: {completeness['topics_updated']}/{completeness['topics_requested']}")
    
    print("\n✅ Enhanced country data validation completed!")
