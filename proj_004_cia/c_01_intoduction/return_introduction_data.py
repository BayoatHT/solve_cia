'''
#   PURPOSE OF THIS FILE
    >>> RETURN A DICTIONARY OF GEOGRAPHY INFORMATION FROM THE CIA WORLD FACTBOOK
'''


#######################################################################################################################

######################################################################################################################
#   CORE IMPORTS
# ---------------------------------------------------------------------------------------------------------------------
import json
import os
# get_introduction ----------------------------------------------------------------------------------------------------
from proj_004_cia.c_01_intoduction.helper.get_introduction import get_introduction

# //////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#   CORE FUNCTION
# ------------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------------


def return_introduction_data(
        data: dict,
        iso3Code: str
) -> dict:
    """
    Build and return the introduction section of the CIA metadata.

    Parameters:
    - data: The dictionary containing the country's data.
    - iso3Code: The ISO3 code of the country.

    Returns:
    - A dictionary containing the introduction information.
    """
    # 1. INTRODUCTION
    # //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    # ---------------------------------------------------------------------------------------------------------------------------
    cia_pack = {
        # NOTE: 'INTRODUCTION'
        # >>> ['background']
        # ---------------------------------------------------------------------------------------------------------------------------
        'background': get_introduction(data=data, info='background', iso3Code=iso3Code),
    }
    ###################################################################################################
    # RETURN
    # --------------------------------------------------------------------------------------------------
    return cia_pack


# //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#   TEST FUNCTION
# ---------------------------------------------------------------------------------------------------------------------
# ---------------------------------------------------------------------------------------------------------------------
if __name__ == '__main__':
    # Sample file path (adjust as necessary)
    file_path = os.path.join(
        r'C:\Users\bayoa\impact_projects\claude_solve_cia\proj_004_cia\_raw_data\north-america\us.json')
    # ------------------------------------------------------------------------------------------------------------------
    with open(file_path, 'r', encoding='utf-8') as country_file:
        data = json.load(country_file)
    # ------------------------------------------------------------------------------------------------------------------
    iso3Code = 'USA'
    # ------------------------------------------------------------------------------------------------------------------
    introduction = return_introduction_data(
        data=data,
        iso3Code=iso3Code
    )
    print(json.dumps(introduction, indent=4))
